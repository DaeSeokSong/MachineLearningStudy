[9. 형태학적 영상 처리]
[9.1 서론]
수학적 형태학의 쳬게는 집합 이론이다. 형태학은 많은 영상처리 문제에 대한 접근법을 제시한다.
수학적 형태학의 집합은 영상의 객체를 나타낸다.
영상의 객체를 표현하는 화소의 집합의 반사는 대칭점들의 집합이다.
집합의 반사와 이동은 구조 요소(SE)에 기반한 연산들을 공식화하는 형태학에서 널리 사용된다.
구조 요소란 작은 집합 또는 부영상으로서 관심특성에 관한 탐구 대상 영상을 위한 조사에 사용된다.
구조 요소들의 원점들이 표시되며, 대칭이고 점이 보이지 않으면 원점은 대칭의 중심에 위치한다.
영상 처리에서 구조 요소가 직각사각형 배열이어야 한다. 때문에 직각사각형이 아니라면 최소의 배경 요소들을 추가하여 구조 요소를 직각사각형으로 만든다.
배경 경계는 구조 요소의 원점이 원래 집합의 경계에 있을 때, 전체 구조 요소가 놓일 수 있을 정도로 크게 만들어 진다.

[9.2 침식과 팽창]
[9.2.1 침식]
집합 A, B가 있을 때, B에 의한 A의 침식은 A - B로 표기된다.
z에 의해 이동된 B가 A에 포함되는 모든 점 z의 집합이다.
B의 요소를 지나는 A의 원점의 모든 좌표의 집합을 표현함으로써 B의 크기가 작아지는 것을 뜻한다.
면에서 선이 되기도 한다.
즉, 침식이 이진 영상의 객체를 축소 또는 가늘게 만들 수 있다.
구조 요소보다 작은 영상 디테일들이 영상에서 필터링(제거)되는 형태학적 필터링 연산으로 볼 수 있다.
[9.2.2 팽창]
집합 A, B가 있을 때, B에 의한 A의 팽창은 A + B로 표기된다.
B를 원점에 대해 반사시킨 후, z만큼 이동시키는 것이 기반한다. 때문에 B에 의한 A의 팽창은 B의 반사와 A가 적어도 한 요소는 겹치게 만드는 모든 이동 z의 집합이다.
B는 구조요소, A는 팽창될 집합(객체) 일 때, B를 컨볼루션 마스크로 원점에 대해 뒤집은(회전시킨) 후 집합(영상) A의 위에서 이동시키는 공간 컨볼루션과 유사한 연산을 수행한다.
하지만 팽창은 집합 연산에 기반하는 비선형 연산이고, 컨볼루션은 선형 연산이다.
A의 경계부터 내부의 점까지 지나는 B의 원점의 z이동 집합이 팽창 집합이다.
축소 또는 세션화 연산인 침식과 달리, 팽창은 이진 영상에서 객체드을 커지게 또는 두꺼워지게 만든다.
팽창의 가장 간단한 응용 중 하나는 틈을 메우는 것이다.
[9.2.3 쌍대성]
침식과 팽창은 집합의 상보(complementation)와 반사에 대하여 서로에 대해 반대이다.
즉, B에 의한 A의 침식이, B의 대칭에 의한 A 여집합의 팽창의 보집합 또는 그 역임을 나타낸다.
쌍대성(Duality) 특성은 구조 요소가 그 원점에 대해 대칭이어서 B의 반사 = B 일때 유용하다.
B에 의한 어떤 영상의 침식을 똑같은 구조 요소로 그 배경을 팽창시키고, 그 결과의 보집합을 취하여 얻을 수 있다.

[9.3 열기와 닫기]
팽창은 영상의 성분을 확대시키고, 침식은 축소시킨다.
열기는 객체의 윤곽을 부드럽게 만들고, 좁은 지협(isthmus)을 끊고, 가느다란 돌출부를 제거한다.
닫기는 윤곽을 부드럽게 만드는 경향이 있으나, 열기와는 반대로 윤곽의 좁은 끊김과 길고 가는 틈을 붙이고, 작은 홀은 제거하며 간극을 채운다.
B에 의한 A의 열기는 B에 의한 A의 침식 후 그 결과를 B에 의해 다시 팽창시키는 것이다.
B에 의한 A의 닫기는 B에 의한 A의 팽창 후 그 결과를 B에 의해 다시 침식시키는 것이다.
열기 연산은 구조 요소 B를 구르는 공으로 보고, B가 A의 경계 안에서 굴러다니며 가장 깊이 도달하는 B의 점들에 대해 설정된다.
열기 연산의 기하학적 맞춤 특성은 A 안에 맞는 B의 모든 이동의 합집합을 취함으로써 B에 의한 A의 열기가 얻어진다는 집합-이론적 표현으로 이끈다.
닫기는 열기와 비슷한 기하학적 해석을 가지나, B를 경계의 바깥에서 굴린다는 점이 다르다.
팽창과 침식의 경우와 같이, 열기와 닫기는 집합의 상보와 반사에 대해 서로 반대이다.
열기 연산은 다음과 같은 특성들을 충족한다.
	1. B에 의한 A의 열기 연산은 A의 부분집합(부영상)이다.
	2. 만일 C가 D의 부분집합이면, B에 의한 C의 열기 연산은 B에 의한 D의 열기의 부분집합이다.
	3. B에 의한 A의 열기 연산의 결과에 의한 B의 열기 연산은 B에 의한 A의 열기 연산과 같다.
닫기 연산은 다음과 같은 특성들을 충족한다.
	1. B에 의한 A의 닫기 연산은 A의 부분집합(부영상)이다.
	2. 만일 C가 D의 부분집합이면, B에 의한 C의 닫기 연산은 B에 의한 D의 닫기의 부분집합이다.
	3. B에 의한 A의 닫기 연산의 결과에 의한 B의 닫기 연산은 B에 의한 A의 닫기 연산과 같다.
즉, 3번 보전으로부터 한 집합에 대해 열기 또는 닫기 연산을 한 번 적용하면, 반복 적용이 효과가 없음을 알 수 있다.
선의 연결성을 유지하지 위해서는 조건을 제시하여야 한다.

[9.4 적중-비적중 변환]
형태학적 적중-비적중(hit-or-miss) 변환은 모양 검출을 위한 기본적인 도구이다.
A에서의 B의 일치 집합은 객체와 관련된 B의 요소들을 A에서, 해당 배경과 관련된 B의 요소들을 A의 여집합에서 일치를 찾아낸 모든 점(원점)을 포함한다.
객체와 관련된 구조요소와 배경과 관련된 요소를 사용하는 이유는 둘 이상의 객체들이 분리된 집합들을 형상하면 서로 다르다는 가정에 기반한다.
이 가정은 주위에 적어도 1 화소 두께 배경을 가진다면 보장할 수 있다.
집합 안의 1 또는 0의 일정한 패턴(조합)을 검출해야 한다면, 적중-비적중 변환은 간단한 침식으로 축소된다.
침식은 일치들의 집합이지만, 개별 객체를 검출하기 위해 배경 일치를 추가로 필요하지는 않는다.